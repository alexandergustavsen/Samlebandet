import * as tslib_1 from "tslib";
import * as React from "react";
import { View } from "react-native";
import { CalendarMonth } from "../CalendarMonth";
import { UserSelect } from "../UsersSelect";
import { styles } from "./PhoneMonthView.styles";
var Scheduler = /** @class */ (function (_super) {
    tslib_1.__extends(Scheduler, _super);
    function Scheduler(props) {
        var _this = _super.call(this, props) || this;
        _this.createTaskAndUser = function (users, taskSchedule) {
            var collections = [];
            users.forEach(function (user) {
                if (user.isSelected) {
                    var tasks = taskSchedule[user.id];
                    if (tasks) {
                        collections.push({
                            user: user,
                            tasks: tasks
                        });
                    }
                }
            });
            return collections;
        };
        _this.onUserChange = function (selectedUsers) {
            _this.setState({ taskAndUsers: _this.createTaskAndUser(selectedUsers, _this.props.tasks) });
        };
        var taskAndUsers = _this.createTaskAndUser(props.users, props.tasks);
        _this.state = {
            taskAndUsers: taskAndUsers
        };
        return _this;
    }
    Scheduler.prototype.render = function () {
        return (<View style={styles.container}>
        <View style={styles.userSelectionContainer}>
          <UserSelect data={this.props.users} onSelectedEvent={this.onUserChange}/>
        </View>
        <View style={styles.calendarMonthContainer}>
          <CalendarMonth data={this.state.taskAndUsers}/>
        </View>
        <View style={styles.dayScheduleContainer}>
        </View>
      </View>);
    };
    return Scheduler;
}(React.Component));
export { Scheduler };
//# sourceMappingURL=PhoneMonthView.js.map