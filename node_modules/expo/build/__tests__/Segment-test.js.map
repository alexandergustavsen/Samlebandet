{"version":3,"file":"Segment-test.js","sourceRoot":"","sources":["../../src/__tests__/Segment-test.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,OAAO,EAAE,MAAM,wBAAwB,CAAC;AACjD,OAAO,EAAE,kBAAkB,EAAE,MAAM,2BAA2B,CAAC;AAC/D,OAAO,EAAE,mBAAmB,EAAE,eAAe,EAAE,mBAAmB,EAAE,MAAM,oBAAoB,CAAC;AAE/F,QAAQ,CAAC,gBAAgB,EAAE,GAAG,EAAE;IAC9B,MAAM,WAAW,GAAG;QAClB,eAAe,EAAE,mBAAmB;QACpC,WAAW,EAAE,eAAe;KAC7B,CAAC;IAEF,SAAS,CAAC,mBAAmB,CAAC,CAAC;IAE/B,EAAE,CAAC,wBAAwB,EAAE,GAAG,EAAE;QAChC,mBAAmB,EAAE,CAAC;QAEtB,OAAO,CAAC,UAAU,CAAC,WAAW,CAAC,CAAC;QAEhC,MAAM,CAAC,kBAAkB,CAAC,eAAe,CAAC,iBAAiB,CAAC,CAAC,oBAAoB,CAC/E,WAAW,CAAC,eAAe,CAC5B,CAAC;QACF,MAAM,CAAC,kBAAkB,CAAC,eAAe,CAAC,aAAa,CAAC,CAAC,GAAG,CAAC,gBAAgB,EAAE,CAAC;IAClF,CAAC,CAAC,CAAC;IAEH,EAAE,CAAC,oBAAoB,EAAE,GAAG,EAAE;QAC5B,eAAe,EAAE,CAAC;QAElB,OAAO,CAAC,UAAU,CAAC,WAAW,CAAC,CAAC;QAEhC,MAAM,CAAC,kBAAkB,CAAC,eAAe,CAAC,aAAa,CAAC,CAAC,oBAAoB,CAC3E,WAAW,CAAC,WAAW,CACxB,CAAC;QACF,MAAM,CAAC,kBAAkB,CAAC,eAAe,CAAC,iBAAiB,CAAC,CAAC,GAAG,CAAC,gBAAgB,EAAE,CAAC;IACtF,CAAC,CAAC,CAAC;AACL,CAAC,CAAC,CAAC","sourcesContent":["import { Segment } from 'expo-analytics-segment';\nimport { NativeModulesProxy } from 'expo-react-native-adapter';\nimport { mockPlatformAndroid, mockPlatformIOS, unmockAllProperties } from '../../test/mocking';\n\ndescribe('initialization', () => {\n  const mockOptions = {\n    androidWriteKey: 'android-write-key',\n    iosWriteKey: 'ios-write-key',\n  };\n\n  afterEach(unmockAllProperties);\n\n  it(`initializes on Android`, () => {\n    mockPlatformAndroid();\n\n    Segment.initialize(mockOptions);\n\n    expect(NativeModulesProxy.ExponentSegment.initializeAndroid).toHaveBeenCalledWith(\n      mockOptions.androidWriteKey\n    );\n    expect(NativeModulesProxy.ExponentSegment.initializeIOS).not.toHaveBeenCalled();\n  });\n\n  it(`initializes on iOS`, () => {\n    mockPlatformIOS();\n\n    Segment.initialize(mockOptions);\n\n    expect(NativeModulesProxy.ExponentSegment.initializeIOS).toHaveBeenCalledWith(\n      mockOptions.iosWriteKey\n    );\n    expect(NativeModulesProxy.ExponentSegment.initializeAndroid).not.toHaveBeenCalled();\n  });\n});\n"]}